{"version":3,"sources":["clock.js"],"names":["clock","document","querySelector","width","height","img","Image","ctx","getContext","Margin","timer","FontHeght","HandTruncation","HourHandTruncation","numberSpacing","Radius","HandRadius","drawCircle","beginPath","arc","Math","PI","stroke","strokeRect","drawNumerals","numetrals","angle","numeralWidth","forEach","numeral","measureText","fillText","cos","sin","drawCenter","fill","drawHand","loc","isHour","handRadius","moveTo","lineTo","drawHands","date","Date","hour","getHours","getMinutes","getSeconds","drawClock","clearRect","save","font","id","setInterval"],"mappings":"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","file":"clock.js","sourcesContent":["let clock = document.querySelector('#clock'),\r\n    width = clock.width,//300\r\n    height = clock.height,//300\r\n    img = new Image(),\r\n    ctx = clock.getContext('2d'),\r\n    Margin = 35,\r\n    timer = 0,\r\n    FontHeght = 16,\r\n    HandTruncation = width / 25,//12\r\n    HourHandTruncation = width / 10,//30\r\n    numberSpacing = 20,\r\n    Radius = width / 2 - Margin,//115\r\n    HandRadius = Radius + numberSpacing;//135\r\n//画圆\r\nlet drawCircle = () => {\r\n        ctx.beginPath();\r\n        ctx.arc(width / 2, height / 2, width / 2 - Margin, 0, Math.PI * 2, true)\r\n        ctx.stroke();\r\n        ctx.strokeRect(0, 0, width, height)\r\n    },\r\n    drawNumerals = () => {\r\n        let numetrals = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],\r\n            angle = 0,\r\n            numeralWidth = 0;\r\n        numetrals.forEach((numeral) => {\r\n            angle = Math.PI / 6 * (numeral - 3)\r\n            numeralWidth = ctx.measureText(numeral).width\r\n            ctx.fillText(numeral,\r\n                width / 2 + Math.cos(angle) * HandRadius - numeralWidth / 2,\r\n                height / 2 + Math.sin(angle) * HandRadius + FontHeght / 2)\r\n        })\r\n    },\r\n    drawCenter = () => {\r\n        ctx.beginPath()\r\n        ctx.arc(width / 2, height / 2, 5, 0, Math.PI * 2, true)\r\n        ctx.fill()\r\n    },\r\n    drawHand = (loc, isHour) => {\r\n        let angle = (Math.PI * 2) * (loc / 60) - Math.PI / 2,\r\n            handRadius = isHour ? Radius - HandTruncation - HourHandTruncation\r\n                : Radius - HandTruncation;\r\n        ctx.moveTo(width / 2, height / 2)\r\n        ctx.lineTo(width / 2 + Math.cos(angle) * handRadius,\r\n            height / 2 + Math.sin(angle) * handRadius)\r\n        ctx.stroke()\r\n    },\r\n    drawHands = () => {\r\n        let date = new Date(),\r\n            hour = date.getHours();\r\n        hour = hour > 12 ? hour - 12 : hour;\r\n        drawHand(hour * 5 + (date.getMinutes() / 60) * 5, true)\r\n        drawHand(date.getMinutes(), false)\r\n        drawHand(date.getSeconds(), false)\r\n    },\r\n    drawClock = () => {\r\n        ctx.clearRect(0, 0, width, height)\r\n        ctx.save()\r\n        drawCircle()\r\n        drawCenter()\r\n        drawHands()\r\n        drawNumerals()\r\n        /*img.src = clock.toDataURL();\r\n        if (!document.querySelector('#img')) {\r\n            document.body.insertBefore(img, clock)\r\n        }*/\r\n    };\r\nctx.font = FontHeght + 'px Arial';\r\nimg.id = 'img';\r\ntimer = setInterval(drawClock, 1000);\r\n"]}